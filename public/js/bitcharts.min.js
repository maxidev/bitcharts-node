angular.module("bitcharts",[]).controller("calcController",function(a,b){var c=this;a({method:"POST",url:"/internal/calc"}).success(function(a){c.values=a,c.getSourceValue=function(){switch(c.source){case"bitcharts.io":return c.values.bitcharts.last;case"bitcoinaverage.com":return c.values.bitcoin_average.last;case"bitex.la":return c.values.bitex.last;case"bitfinex.com":return c.values.bitfinex.last;case"bitstamp.net":return c.values.bitstamp.last;case"btc-e.com":return c.values["btc-e"].last;case"digicoins.tk":return c.values.digicoins.last;case"ripio.com":return c.values.ripio.last;case"unisend.com":return c.values.unisend.last;case"wideexchange.com":return c.values.wideexchange.last;default:return NaN}},c.getNativeCurrency=function(){switch(c.source){case"bitcharts.io":return c.values.bitcharts.currency_to;case"bitcoinaverage.com":return c.values.bitcoin_average.currency_to;case"bitex.la":return c.values.bitex.currency_to;case"bitfinex.com":return c.values.bitfinex.currency_to;case"bitstamp.net":return c.values.bitstamp.currency_to;case"btc-e.com":return c.values["btc-e"].currency_to;case"digicoins.tk":return c.values.digicoins.currency_to;case"ripio.com":return c.values.ripio.currency_to;case"unisend.com":return c.values.unisend.currency_to;case"wideexchange.com":return c.values.wideexchange.currency_to;default:return NaN}},c.setTabBtc=function(){return"ARS"==c.cur?"ARS":"USD"},c.setTabArs=function(){return"ARS"==c.fiatCur?"ARS":"USD"},c.getDolarBlue=function(){return c.values.la_nacion_blue.last},c.getTimestamp=function(){return c.values._timestamp},c.getPercent=function(){return c.percent},c.getOperation=function(){return c.percentOperation},c.getCurrency=function(){return"ARS"==c.cur?c.values.la_nacion_blue.last:"USD"==c.cur?1:NaN},c.setPercent=function(a,b,d){var e=a,f=d,g=c.getNativeCurrency();c.nSource=g;var h="",i=c.cur;if("ARS"==i&&"ARS"==g)var h=f*e;else if("ARS"==i&&"USD"==g)var h=f*e*c.values.la_nacion_blue.last;else if("USD"==i&&"ARS"==g)var h=f*e/c.values.la_nacion_blue.last;else if("USD"==i&&"USD"==g)var h=f*e;else var h=NaN;return"+"==c.percentOperation?h+h*c.percent/100:h-h*c.percent/100},c.setDivColor=function(){return 0!=c.percent?"+"==c.percentOperation?"#A2CD5A":"#F5785A":"#272822"},c.fixSharePercent=function(){return 0==c.percent?"":"+"==c.percentOperation?"(m√°s "+c.percent+"%)":"(menos "+c.percent+"%)"},c.setBtcCant=function(){var a,b=c.getNativeCurrency();if("ARS"==c.fiatCur&&"USD"==b)switch(a=c.fiatcant/c.values.la_nacion_blue.last,c.source){case"bitcoinaverage.com":return a/c.values.bitcoin_average.last;case"bitex.la":return a/c.values.bitex.last;case"bitstamp.net":return a/c.values.bitstamp.last;case"btc-e.com":return a/c.values["btc-e"].last;default:return NaN}else if("ARS"==c.fiatCur&&"ARS"==b)switch(c.source){case"bitcharts.io":return c.fiatcant/c.values.bitcharts.last;case"digicoins.tk":return c.fiatcant/c.values.digicoins.last;case"ripio.com":return c.fiatcant/c.values.ripio.last;case"unisend.com":return c.fiatcant/c.values.unisend.last;case"wideexchange.com":return c.fiatcant/c.values.wideexchange.last;default:return NaN}else if("USD"==c.fiatCur&&"USD"==b)switch(c.source){case"bitcoinaverage.com":return c.fiatcant/c.values.bitcoin_average.last;case"bitex.la":return c.fiatcant/c.values.bitex.last;case"bitstamp.net":return c.fiatcant/c.values.bitstamp.last;case"btc-e.com":return c.fiatcant/c.values["btc-e"].last;default:return NaN}else if("USD"==c.fiatCur&&"ARS"==b){var d=c.values.la_nacion_blue.last;switch(c.source){case"bitcharts.io":return c.fiatcant*d/c.values.bitcharts.last;case"digicoins.tk":return c.fiatcant*d/c.values.digicoins.last;case"ripio.com":return c.fiatcant*d/c.values.ripio.last;case"unisend.com":return c.fiatcant*d/c.values.unisend.last;case"wideexchange.com":return c.fiatcant*d/c.values.wideexchange.last;default:return NaN}}},c.setBtcPercent=function(a){return"+"==c.percentOperation?(a+a*c.percent/100).toFixed(5):"-"==c.percentOperation?(a-a*c.percent/100).toFixed(5):NaN}})});